/* Responsive Design */

/* Responsive Hero Section */
@media (max-width: 768px) {
  .hero-content {
    grid-template-columns: 1fr;
    gap: var(--spacing-xl);
    text-align: center;
  }

  .hero-image {
    order: -1;
  }

  .hero-logo,
  .hero-logo-placeholder {
    max-width: 150px;
  }

  .hero-title-line1,
  .hero-title-line2 {
    font-size: clamp(2rem, 8vw, 3rem);
  }
}

/* Single Post Responsive */
@media (max-width: 1024px) {
  .single-post-wrapper {
    flex-direction: column;
  }

  .post-toc {
    position: sticky;
    top: 70px;
    width: 100%;
    margin-bottom: var(--spacing-lg);
    order: -1;
  }

  .toc-content.expanded {
    max-height: 300px;
  }
}

/* General Responsive */
@media (max-width: 1024px) {
  .header-logo .logo-link {
    font-size: 1.125rem;
  }
}

@media (max-width: 768px) {
  .search-modal-container {
    width: 90%;
  }

  .header-container {
    padding: 0 var(--spacing-sm);
  }

  .header-content {
    gap: var(--spacing-xs);
  }

  .header-logo {
    flex: 1 1 auto;
    min-width: 0;
  }

  .header-logo .logo-link {
    font-size: 0.875rem;
    max-width: 100%;
  }

  .header-menu {
    gap: var(--spacing-xs);
    flex-shrink: 0;
  }

  .menu-list {
    gap: var(--spacing-xs);
  }

  .menu-link {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.875rem;
    white-space: nowrap;
  }

  .search-toggle,
  .theme-toggle {
    padding: var(--spacing-xs);
    width: 1.5rem;
    height: 1.5rem;
    flex-shrink: 0;
  }

  .search-icon {
    width: var(--icon-sm);
    height: var(--icon-sm);
  }

  .theme-toggle .icon-sun,
  .theme-toggle .icon-moon {
    width: 1rem;
    height: 1rem;
  }

  main {
    padding: var(--spacing-lg) var(--spacing-md);
  }

  .post-card {
    flex-direction: column;
  }

  .post-image {
    width: 100%;
    height: 200px;
  }

  .post-title-main {
    font-size: 2rem;
  }

  .year-posts {
    margin-left: 0;
  }

  /* Ensure code blocks don't cause horizontal overflow on mobile */
  .post-content-main pre,
  .post-content-main .highlight,
  .post-content-main pre.highlight {
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .post-content-main pre code {
    min-width: 0;
  }

  /* Ensure single-post container properly constrains content */
  .single-post {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  .post-content-main {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
  }

  /* Adjust code block buttons on mobile */
  .code-block-copy {
    right: calc(0.5rem + 85px + 0.5rem);
    padding: 0.375rem 0.5rem;
    font-size: 0.7rem;
    width: auto;
    min-width: 32px;
    box-sizing: border-box;
    margin-right: 0;
  }

  .code-block-copy .copy-text,
  .code-block-copy .copied-text {
    display: none;
  }

  .code-block-toggle {
    padding: 0.375rem 0.5rem;
    font-size: 0.7rem;
    width: 85px;
    box-sizing: border-box;
  }
}

@media (max-width: 480px) {
  .header-container {
    padding: 0 var(--spacing-xs);
  }

  .header-content {
    gap: 0.25rem;
  }

  .header-logo {
    flex: 1 1 auto;
    min-width: 0;
  }

  .header-logo .logo-link {
    font-size: 0.75rem;
    max-width: 100%;
  }

  .header-menu {
    gap: 0.25rem;
  }

  .menu-list {
    gap: 0.25rem;
  }

  .menu-link {
    padding: var(--spacing-xs);
    font-size: 0.75rem;
  }

  .about-content {
    gap: var(--spacing-sm);
  }

  .about-avatar {
    width: 60px;
    height: 60px;
  }

  .about-name {
    font-size: 1.25rem;
  }

  .post-title-main {
    font-size: 1.75rem;
  }

  .tags-list {
    gap: var(--spacing-sm);
  }

  .tag-chip-large {
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.875rem;
  }

  /* Ensure code block buttons maintain gap on very small screens */
  .code-block-copy {
    right: calc(1rem + 85px);
  }
}
